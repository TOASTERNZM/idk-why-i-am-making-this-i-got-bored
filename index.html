<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>THIS SITE IS A JOKE DO NOT TAKE OFFENCE TO IT ITS ALSO PRAVITE </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg-gif: url("download2.png?v=2");
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
}

body {
  background: var(--bg-gif) no-repeat center center;
  background-size: cover;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  font-family: 'Arial', sans-serif;
}

/* Header wrapper for scrolling */
#headerWrapper {
  position: absolute;
  top: 20px;
  width: 100%;
  overflow: hidden;
}

/* Scrolling header */
#fancyHeader {
  display: inline-block;
  white-space: nowrap; 
  font-size: 2.5rem;
  font-weight: bold;
  text-transform: uppercase;
  user-select: none;
  pointer-events: none;
  animation: scrollLeft 30s linear infinite, bwFlicker 3s infinite linear; /* slowed down */
}

/* Slow horizontal scroll */
@keyframes scrollLeft {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

/* Black-and-white flicker effect */
@keyframes bwFlicker {
  0% { color: white; text-shadow: 0 0 5px white, 0 0 10px white; }
  25% { color: #ccc; text-shadow: 0 0 5px #ccc, 0 0 10px #ccc; }
  50% { color: #999; text-shadow: 0 0 5px #999, 0 0 10px #999; }
  75% { color: #ccc; text-shadow: 0 0 5px #ccc, 0 0 10px #ccc; }
  100% { color: white; text-shadow: 0 0 5px white, 0 0 10px white; }
}

/* Click-to-play text */
#clickText {
  color: white;
  font-size: 1.8rem;
  text-shadow: 0 0 5px black;
  transition: opacity 1s ease;
  pointer-events: none;
  user-select: none;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  text-align: center;
}

/* Audio visualizer */
#visualizer {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 60px; /* smaller than before */
}
</style>
</head>

<body>

<audio id="bgm" loop>
  <source src="niglet.mp3" type="audio/mpeg">
</audio>

<!-- Scrolling header -->
<div id="headerWrapper">
  <div id="fancyHeader">ITS A NIGG ABUCK  NIGGA BUCK NIGGA BUCK NIGGA BUCK  </div>
</div>

<div id="clickText">Click to play</div>
<canvas id="visualizer"></canvas>

<script>
const body = document.body;
const audio = document.getElementById("bgm");
const clickText = document.getElementById("clickText");
const canvas = document.getElementById("visualizer");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = 60; // matches CSS height

let audioCtx, analyser, source, dataArray;

body.addEventListener("click", () => {
  audio.play();
  clickText.style.opacity = 0;

  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  analyser = audioCtx.createAnalyser();
  source = audioCtx.createMediaElementSource(audio);
  source.connect(analyser);
  analyser.connect(audioCtx.destination);
  analyser.fftSize = 64; // smaller for smoother bars

  const bufferLength = analyser.frequencyBinCount;
  dataArray = new Uint8Array(bufferLength);

  requestAnimationFrame(drawVisualizer);
}, { once: true });

// Draw smooth black-and-white bars
function drawVisualizer() {
  requestAnimationFrame(drawVisualizer);
  analyser.getByteFrequencyData(dataArray);

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const barWidth = (canvas.width / dataArray.length) * 1.5; // smaller bars
  let x = 0;

  for(let i = 0; i < dataArray.length; i++){
    const barHeight = dataArray[i] / 2;
    const gray = Math.floor(barHeight / 2 + 128); // black-to-white
    ctx.fillStyle = `rgb(${gray},${gray},${gray})`; 
    ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
    x += barWidth + 1;
  }
}

// Resize canvas on window resize
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = 60;
});
</script>

</body>
</html>
